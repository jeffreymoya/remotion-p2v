# Remotion AI Video template

<p align="center">
  <picture>
      <source media="(prefers-color-scheme: dark)" srcset="https://cdn.webmonch.dev/img/remotion-template-promo.png">
      <img alt="Animated Remotion Logo" src="https://cdn.webmonch.dev/img/remotion-template-promo.png">
    </picture>
</p>

Using this template you can create high quality **AI videos for TikTok or Instagram**.

It includes a CLI that will generate a story script, images and voiceover using OpenAI and Google Text-to-Speech (TTS). _Note: ElevenLabs TTS support is planned but not yet implemented._

## Getting started

Set up the demo story:

**Install Dependencies**

```console
npm install
```

**Start Preview**

```console
npm run dev
```

**Render video**

```console
npx remotion render
```

Or check out the [Remotion docs](/docs/render/). There are lots of ways to render.

## Pipeline Architecture

The video generation pipeline consists of 7 stages that can be run individually or together:

### The 7 Stages

1. **Discover** (`npm run discover`) - Fetch trending topics from Google Trends
2. **Curate** (`npm run curate`) - Select and refine a topic (interactive web UI or auto-select)
3. **Refine** (`npm run refine`) - Enhance topic with additional details for target audience
4. **Script** (`npm run script`) - Generate video script with segments and timing
5. **Gather** (`npm run gather`) - Fetch media assets (images/videos) and generate TTS audio with word-level timing
6. **Build Timeline** (`npm run build:timeline`) - Assemble timeline.json from all assets
7. **Render** (`npm run render:project`) - Generate final video file

### Running the Full Pipeline

To run all 7 stages automatically:

```console
npm run gen
```

This executes the complete end-to-end pipeline for automated video generation.

### Running Individual Stages

For more control over the generation process, run stages individually:

```console
# Stage 1: Discover topics
npm run discover

# Get the latest project ID
PROJECT_ID=$(ls -t public/projects/ | head -1)

# Stages 2-7: Run with project ID
npm run curate -- --project "$PROJECT_ID" --auto
npm run refine -- --project "$PROJECT_ID"
npm run script -- --project "$PROJECT_ID"
npm run gather -- --project "$PROJECT_ID"
npm run build:timeline -- --project "$PROJECT_ID"
npm run render:project -- --project "$PROJECT_ID"
```

## Creating a new story

You can easily create your own videos using provided CLI.

It will generate a script, images, voiceover and timeline based on your story title and topic. Topics that work well: history, ELI5, fun facts, science.

**Configure environment variables**

Create .env file with following env vars (you can also find them in .env.example):

```
OPENAI_API_KEY=
GOOGLE_TTS_API_KEY=
```

If you don't create an env file, you will be prompted for these variables when using CLI.

**Select voice**

Google TTS voices can be configured in `config/tts.config.json`. The default voice is `en-US-Neural2-J` (male, casual). You can choose from various Google TTS voices including Neural2 and WaveNet options. See the [Google TTS documentation](https://cloud.google.com/text-to-speech/docs/voices) for available voices.

**Generate story timeline**

For automated end-to-end generation:

```console
npm run gen
```

This runs the complete 7-stage pipeline automatically, from topic discovery to final video rendering.

For interactive development with more control over each stage, see the [Pipeline Architecture](#pipeline-architecture) section above.

The pipeline will generate a script, fetch matching media assets, create TTS audio with word-level timing, assemble everything into a timeline, and render the final video.

## Technical overview

Remotion is rendering videos based on Timeline (timeline.json in project folder). The timeline is generated by CLI.

It consists of three blocks - Elements, Text and Audio.

Elements define slide backgrounds and include enter/exit transitions (e.g. blur) and animations that are applied while slide is active (e.g. scale, rotate).

Text and audio are self explanatory. The only special thing about them is that they are synced.

You can customize the generation of the timeline in [`createTimeLineFromStoryWithDetails()`](cli/timeline.ts) function.

## Feature Status

Current implementation status of planned features:

| Feature | Status | Notes |
|---------|--------|-------|
| TTS (Neural2-F) | ‚úÖ Implemented | google-tts.ts |
| TTS (Chirp3) | üìã Planned | Not yet available |
| Image Search | ‚úÖ Implemented | Pexels, Unsplash, Pixabay |
| Video Search | üìã Planned | Schema ready, not used |
| Phrase-Based Subtitles | ‚úÖ Implemented | 14-char chunks |
| Word-Level Timing | üìã Planned | Requires TTS timestamp changes |
| Emphasis Tagging | üìã Planned | Needs LLM integration |
| 16:9 Aspect Ratio | ‚úÖ Implemented | Default in config |
| Crop-to-Fill | üìã Planned | Background.tsx needs refactor |
| Music Ducking | ‚úÖ Implemented | Enabled in config |

**Legend**: ‚úÖ Implemented | üìã Planned | ‚ö†Ô∏è Partial | ‚ùå Deprecated

For detailed implementation status, see [docs/CURRENT_STATE.md](docs/CURRENT_STATE.md).

## Deploying on a remote server

Current project needs light modification if you want to deploy it as a remote service.

Remotion renderer with template bundle should be deployed as per usual.

Then you have to update [`Root.tsx`](src/Root.tsx) to use timeline url that you will pass as a prop (instead of project name).

The last thing - you have to upload generated resources (images and audio) to server and use urls to them instead of file names when generating a timeline.

## Issues

Found an issue with Remotion? Upgrade Remotion to receive fixes:

```
npx remotion upgrade
```

Didn't help? [File an issue here](https://github.com/remotion-dev/remotion/issues/new).

## Contributing

The source of this template is in the [Remotion Monorepo](https://github.com/remotion-dev/remotion/tree/main/packages/template-ai-video).  
Don't send pull requests here, this is only a mirror.

## License

Note that for some entities a company license is needed. [Read the terms here](https://github.com/remotion-dev/remotion/blob/main/LICENSE.md).

## Credits

Thanks to [@webmonch](https://github.com/webmonch) for contributing this template!
