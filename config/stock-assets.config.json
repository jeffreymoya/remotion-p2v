{
  "defaultProvider": "pexels",
  "providers": {
    "pexels": {
      "name": "pexels",
      "enabled": true,
      "apiKey": "${PEXELS_API_KEY}",
      "baseUrl": "https://api.pexels.com/v1",
      "videoBaseUrl": "https://api.pexels.com/videos",
      "rateLimit": {
        "requestsPerMinute": 200,
        "requestsPerMonth": 20000
      },
      "searchDefaults": {
        "orientation": "landscape",
        "size": "large",
        "perPage": 20,
        "minWidth": 1920,
        "minHeight": 1080
      },
      "videoDefaults": {
        "orientation": "landscape",
        "size": "large",
        "perPage": 15,
        "minWidth": 1920,
        "minHeight": 1080,
        "minDuration": 5
      }
    },
    "unsplash": {
      "name": "unsplash",
      "enabled": true,
      "apiKey": "${UNSPLASH_ACCESS_KEY}",
      "baseUrl": "https://api.unsplash.com",
      "rateLimit": {
        "requestsPerHour": 50
      },
      "searchDefaults": {
        "orientation": "landscape",
        "perPage": 20,
        "orderBy": "relevant"
      }
    },
    "pixabay": {
      "name": "pixabay",
      "enabled": true,
      "apiKey": "${PIXABAY_API_KEY}",
      "baseUrl": "https://pixabay.com/api",
      "videoBaseUrl": "https://pixabay.com/api/videos",
      "rateLimit": {
        "requestsPerMinute": 100
      },
      "searchDefaults": {
        "imageType": "photo",
        "orientation": "horizontal",
        "minWidth": 1920,
        "minHeight": 1080,
        "perPage": 20,
        "safeSearch": true
      },
      "videoDefaults": {
        "videoType": "film",
        "orientation": "horizontal",
        "minWidth": 1920,
        "minHeight": 1080,
        "perPage": 20
      }
    }
  },
  "fallbackOrder": ["pexels", "pixabay", "unsplash"],
  "qualityScoring": {
    "enabled": true,
    "weights": {
      "resolution": 0.3,
      "aspectRatioMatch": 0.25,
      "relevance": 0.25,
      "popularity": 0.2
    },
    "minQualityScore": 0.5,
    "minVideoQualityScore": 0.7
  },
  "deduplication": {
    "enabled": true,
    "similarityThreshold": 0.85,
    "checkPreviousProjects": false
  },
  "download": {
    "maxConcurrent": 5,
    "timeoutMs": 30000,
    "retryAttempts": 3,
    "retryDelayMs": 1000
  },
  "localLibrary": {
    "enabled": true,
    "minMatches": { "videos": 1, "images": 3 },
    "limit": { "videos": 3, "images": 5 },
    "preferRecencyBoost": 0.1,
    "semantic": { "enabled": false, "minScore": 0.18, "candidateLimit": 250, "dimensions": 384 },
    "optimization": { "images": { "enabled": false, "minSavingsPercent": 5 } }
  },
  "aspectRatios": {
    "16:9": {
      "width": 1920,
      "height": 1080,
      "orientation": "landscape"
    },
    "9:16": {
      "width": 1080,
      "height": 1920,
      "orientation": "portrait"
    }
  },
  "cropConfig": {
    "safePaddingPercent": 10,
    "maxAspectDelta": 0.3,
    "targetWidth": 1920,
    "targetHeight": 1080
  },
  "caching": {
    "enabled": true,
    "ttlSeconds": 86400,
    "cacheSearchResults": true
  },
  "webScrape": {
    "enabled": true,
    "candidateCount": {
      "target": 5,
      "maxAttempts": 10
    },
    "concurrency": {
      "maxConcurrent": 3,
      "rateLimit": {
        "requestsPerSecond": 10,
        "perDomain": true
      }
    },
    "quality": {
      "minWidth": 1920,
      "minHeight": 1080,
      "maxWidth": 7680,
      "maxHeight": 4320,
      "allowedFormats": ["jpeg", "jpg", "png", "webp", "avif"],
      "rejectedFormats": ["gif", "tiff", "heic"],
      "minSizeBytes": 102400,
      "maxSizeBytes": 10485760,
      "aspectRatio": {
        "target": 1.777778,
        "tolerance": 0.3
      }
    },
    "selection": {
      "weights": {
        "sceneRelevance": 0.4,
        "technicalQuality": 0.3,
        "aestheticAppeal": 0.2,
        "aspectRatioMatch": 0.1
      },
      "tieBreaker": "resolution"
    },
    "download": {
      "timeoutMs": 30000,
      "totalOperationTimeoutMs": 120000,
      "retryAttempts": 3,
      "retryDelayMs": 1000,
      "userAgent": "Mozilla/5.0 (compatible; RemotionP2V/1.0)",
      "strictSSL": true,
      "streamDownload": true
    },
    "security": {
      "allowedSchemes": ["https"],
      "blockedIpRanges": [
        "10.0.0.0/8",
        "172.16.0.0/12",
        "192.168.0.0/16",
        "127.0.0.0/8",
        "169.254.0.0/16"
      ],
      "blockedTLDs": [".local", ".internal", ".corp"],
      "maxUrlLength": 2048
    },
    "cache": {
      "directory": "cache/media-scrape",
      "maxSizeGB": 5,
      "ttlDays": 7,
      "evictionPolicy": "lru"
    },
    "search": {
      "provider": "google-custom-search",
      "apiKey": "${GOOGLE_CUSTOM_SEARCH_API_KEY}",
      "searchEngineId": "${GOOGLE_CUSTOM_SEARCH_ENGINE_ID}",
      "fallbackToStock": true,
      "minCandidatesForSuccess": 3
    },
    "gemini": {
      "searchModel": "gemini-2.0-flash-exp",
      "selectionModel": "gemini-2.0-flash-exp"
    }
  }
}
